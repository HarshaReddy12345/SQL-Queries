CREATE FUNCTION dbo.fCore_Var2025(@s xml)
Returns int 
as 
begin
declare @Designation int,@Place int,@Allowance int
select @Designation=@s.value('(/Fields/Header/Designation)[1]', 'INT') 
select @Place=@s.value('(/Fields/BodyData/BodyRow/Place)[1]','int')

if(@Place in(1,2,4) and @Designation in(9,10,11,12) )
begin
select @Allowance=Allowance from vuCore_ExpenseTest_Expense_Details WITH(NOLOCK) WHERE Designation=@Designation and Place=@Place
end 
else if (@Place in(1,2,4) and @Designation in(4,8))
begin
select @Allowance=Allowance from vuCore_ExpenseTest_Expense_Details WITH(NOLOCK) WHERE Designation=@Designation and Place=@Place
end
else if (@Place in (1,2,4) and @Designation in (2,3,7))
begin
select @Allowance =Allowance from vuCore_ExpenseTest_Expense_Details WITH(NOLOCK) WHERE Designation=@Designation and Place=@Place
end
return @Allowance
end
